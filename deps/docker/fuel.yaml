name: fuel
dependencies:
  - python = 3.6     # Align with Ubuntu 18.04 default.
  - pyspark = 3.0.0  # Align with pre-built server image.
  - pytorch::pytorch = 1.5.1  # Align with the apollo base image.

  # TODO: Breaks tensorflow 1.14.
  # - nvidia::cudatoolkit = 10.2  # Align with nvidia-docker base image.

  - absl-py
  - ansi2html
  - boto3
  - conda-forge::bayesian-optimization
  - conda-forge::easydict
  - conda-forge::eventlet
  - conda-forge::flask-restful
  - conda-forge::gpytorch
  - conda-forge::librosa
  - conda-forge::optuna
  - conda-forge::opt-einsum
  - conda-forge::progressbar
  - conda-forge::pybind11
  - conda-forge::pycocotools
  - conda-forge::pydub
  - conda-forge::python-kubernetes
  - conda-forge::pywavelets
  - conda-forge::tensorboardx
  - conda-forge::youtube-dl
  - flask
  - flask-socketio
  - graphviz
  - gunicorn
  - gwerbin::pyro-ppl
  - h5py
  - keras-gpu
  - matplotlib
  - mpld3
  - numba
  - numpy
  - opencv >= 3.4.2  # It downgrades to 3.4.1 if we rely on conda adjust which causes conflicts.
  - pillow
  - pip
  - plotly::plotly
  - plotly::plotly-orca
  - protobuf >= 3.12.3  # It downgrades to 3.11.2 if we rely on conda adjust which causes conflicts.
  - psutil
  - pycodestyle
  - pyflakes
  - pymongo
  - pyproj
  - pytorch::torchaudio
  - pytorch::torchvision
  - pytz
  - redis-py
  - requests
  - scikit-learn
  - scipy
  - seaborn
  - shapely
  - tensorflow = 1.14  # TF2 changes API.
  - tqdm
  - scikit-image

  - pip:
    - casadi  # The conda-forge version is maintained by third-party.
    - eyeD3
    - nuscenes-devkit
    - youtube-data-api
